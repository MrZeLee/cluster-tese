# Temporarily disabled for testing - network policy may be blocking VPN setup
# apiVersion: networking.k8s.io/v1
# kind: NetworkPolicy
# metadata:
#   name: qbittorrent-netpol
#   namespace: media-server
# spec:
#   podSelector:
#     matchLabels:
#       app: qbittorrent
#   policyTypes:
#   - Ingress
#   - Egress
#   ingress:
#   # Allow ingress to web UI
#   - from:
#     - namespaceSelector: {}
#     ports:
#     - protocol: TCP
#       port: 8080
#   egress:
#   # Allow DNS resolution (cluster DNS)
#   - to: []
#     ports:
#     - protocol: UDP
#       port: 53
#     - protocol: TCP
#       port: 53
#   # Allow Git clone (for PIA repo)
#   - ports:
#     - protocol: TCP
#       port: 22   # SSH Git
#     - protocol: TCP
#       port: 443  # HTTPS Git
#     - protocol: TCP
#       port: 80   # HTTP Git
#   # Allow PIA API and WireGuard
#   - ports:
#     - protocol: TCP
#       port: 443
#     - protocol: TCP
#       port: 1337
#     - protocol: UDP
#       port: 1337
#     - protocol: UDP
#       port: 51820
#     - protocol: TCP
#       port: 19999  # PIA port forwarding API
#   # Allow all local cluster communication (for shared network namespace)
#   - to:
#     - podSelector: {}
#     - namespaceSelector: {}
#   # Allow all localhost communication (containers share network namespace)
#   - to: []
#     ports:
#     - protocol: TCP
#       port: 8080  # qBittorrent web UI